<Window x:Class="FNEV4.Presentation.Views.Maintenance.RecordEditDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Édition d'enregistrement"
        Height="500" Width="600"
        WindowStartupLocation="CenterOwner"
        Style="{StaticResource MaterialDesignWindow}"
        ResizeMode="CanResize">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- En-tête -->
        <materialDesign:Card Grid.Row="0" Margin="16,16,16,8">
            <Grid Margin="16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <materialDesign:PackIcon Grid.Column="0" 
                                       Kind="DatabaseEdit" 
                                       Width="24" Height="24"
                                       VerticalAlignment="Center"
                                       Margin="0,0,12,0"/>

                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock x:Name="TitleTextBlock"
                              Style="{StaticResource MaterialDesignHeadline6TextBlock}"/>
                    <TextBlock x:Name="SubtitleTextBlock"
                              Style="{StaticResource MaterialDesignCaptionTextBlock}"
                              Opacity="0.7"/>
                </StackPanel>
            </Grid>
        </materialDesign:Card>

        <!-- Contenu principal - Formulaire -->
        <materialDesign:Card Grid.Row="1" Margin="16,0,16,8">
            <ScrollViewer VerticalScrollBarVisibility="Auto" Margin="16">
                <StackPanel x:Name="FieldsContainer" />
            </ScrollViewer>
        </materialDesign:Card>

        <!-- Boutons d'action -->
        <materialDesign:Card Grid.Row="2" Margin="16,0,16,16">
            <Grid Margin="16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Validation des erreurs -->
                <TextBlock x:Name="ErrorTextBlock"
                          Grid.Column="0"
                          Foreground="Red"
                          VerticalAlignment="Center"
                          Visibility="Collapsed"/>

                <!-- Boutons -->
                <Button x:Name="SaveButton"
                       Grid.Column="1"
                       Content="Enregistrer"
                       Style="{StaticResource MaterialDesignRaisedButton}"
                       Margin="0,0,8,0"
                       Click="SaveButton_Click"/>

                <Button x:Name="CancelButton"
                       Grid.Column="2"
                       Content="Annuler"
                       Style="{StaticResource MaterialDesignOutlinedButton}"
                       IsCancel="True"
                       Click="CancelButton_Click"/>
            </Grid>
        </materialDesign:Card>
    </Grid>
</Window>
